{namespace wmdb=WMDB\Forger\ViewHelpers}
<f:layout name="Default" />

<f:section name="Title">Management View</f:section>
<f:section name="Javascripts"></f:section>

<f:section name="Content">

	<h3>Issue Management View</h3>
	<f:for each="{aggs}" as="year" key="yearString">
		<h4>{yearString}</h4>
		<table>
			<tr>
				<f:for each="{year}" as="month" key="monthString">
					<th>
						{monthString}
						<span class="label secondary radius"><wmdb:forgelink linkText="Show Issues" year="{yearString}" month="{monthString}" /></span>
					</th>
				</f:for>
			</tr>
			<tr>
				<f:for each="{year}" as="month" key="monthString">
					<td valign="top">
						<f:for each="{month}" as="status">
							<f:switch expression="{status.name}">
								<f:case value="New"><span class="label radius status_new"><b>{status.count}</b> {status.name}</span></f:case>
								<f:case value="Accepted"><span class="label radius status_accepted"><b>{status.count}</b> {status.name}</span></f:case>
								<f:case value="Under Review"><span class="label radius status_review"><b>{status.count}</b> {status.name}</span></f:case>
								<f:case value="On Hold"><span class="label radius status_onhold"><b>{status.count}</b> {status.name}</span></f:case>
								<f:case value="Needs Feedback"><span class="label radius status_feedback"><b>{status.count}</b> {status.name}</span></f:case>
								<f:defaultCase><span class="label radius"><b>{status.count}</b> {status.name}</span> </f:defaultCase>
							</f:switch><br>
						</f:for>
					</td>
				</f:for>
			</tr>
		</table>
	</f:for>
</f:section>
